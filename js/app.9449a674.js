(function(){"use strict";var a={5683:function(a,t,e){var r=e(5130),s=e(6768);function o(a,t,e,r,o,i){const c=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.Wv)(c)}var i={name:"App"},c=e(1241);const n=(0,c.A)(i,[["render",o]]);var l=n,d=e(1387);const h={class:"navbar"},u={class:"form-container"},p={class:"form-group"},v={class:"form-group"},b={class:"form-group"},m={class:"form-group"},f={class:"form-group"},C={class:"action-buttons"};function g(a,t,e,o,i,c){const n=(0,s.g2)("AppOverlay");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",h,[(0,s.Lk)("button",{class:"btn btn-back",onClick:t[0]||(t[0]=(...a)=>c.goBack&&c.goBack(...a))},"Back"),t[7]||(t[7]=(0,s.Lk)("h2",{class:"title"},"Add New Character",-1)),t[8]||(t[8]=(0,s.Lk)("div",{class:"navbar-spacer"},null,-1))]),(0,s.Lk)("div",u,[(0,s.Lk)("div",p,[t[9]||(t[9]=(0,s.Lk)("label",{for:"name"},"Name:",-1)),(0,s.bo)((0,s.Lk)("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=a=>i.character.name=a),placeholder:"Enter character name"},null,512),[[r.Jo,i.character.name]])]),(0,s.Lk)("div",v,[t[10]||(t[10]=(0,s.Lk)("label",{for:"styles"},"Styles:",-1)),(0,s.bo)((0,s.Lk)("input",{id:"styles","onUpdate:modelValue":t[2]||(t[2]=a=>i.character.styles=a),placeholder:"Enter styles (optional)"},null,512),[[r.Jo,i.character.styles]])]),(0,s.Lk)("div",b,[t[11]||(t[11]=(0,s.Lk)("label",{for:"path"},"Path:",-1)),(0,s.bo)((0,s.Lk)("input",{id:"path","onUpdate:modelValue":t[3]||(t[3]=a=>i.character.path=a),placeholder:"Enter image URL"},null,512),[[r.Jo,i.character.path]])]),(0,s.Lk)("div",m,[t[12]||(t[12]=(0,s.Lk)("label",{for:"htmlCode"},"HTML Code:",-1)),(0,s.bo)((0,s.Lk)("textarea",{id:"htmlCode","onUpdate:modelValue":t[4]||(t[4]=a=>i.character.htmlCode=a),placeholder:"Enter HTML code"},null,512),[[r.Jo,i.character.htmlCode]])]),(0,s.Lk)("div",f,[t[13]||(t[13]=(0,s.Lk)("label",{for:"tags"},"Tags:",-1)),(0,s.bo)((0,s.Lk)("input",{id:"tags","onUpdate:modelValue":t[5]||(t[5]=a=>i.tagsInput=a),placeholder:"Enter tags, separated by commas"},null,512),[[r.Jo,i.tagsInput]])]),(0,s.Lk)("div",C,[(0,s.Lk)("button",{class:"btn btn-save",onClick:t[6]||(t[6]=(...a)=>c.addCharacter&&c.addCharacter(...a))},"Add")]),(0,s.bF)(n,{visible:i.added,message:"Added!"},null,8,["visible"])])])}e(4114);var k=e(4161),y=e(6400),L=e(6971);const w={apiKey:"AIzaSyB724ERPtmM_gm3K2H63fbfKEjrU3jwVsQ",authDomain:"character-finder-70853.firebaseapp.com",projectId:"character-finder-70853",storageBucket:"character-finder-70853.appspot.com",messagingSenderId:"122301174396",appId:"1:122301174396:web:14ba70377dbcb829656ff9",measurementId:"G-C0Y1ED8FZP"},E=(0,y.Wp)(w),x=((0,L.xI)(E),(0,k.C3)(E));var T=e(4232);const F={key:0,class:"overlay-background"},I={class:"overlay"},A={class:"overlay-message"};function q(a,t,e,r,o,i){return e.visible?((0,s.uX)(),(0,s.CE)("div",F,[(0,s.Lk)("div",I,[(0,s.Lk)("p",A,(0,T.v_)(e.message),1)])])):(0,s.Q3)("",!0)}var D={props:{visible:{type:Boolean,required:!0},message:{type:String,required:!0}}};const B=(0,c.A)(D,[["render",q],["__scopeId","data-v-ba1c96ea"]]);var X=B,$={components:{AppOverlay:X},data(){return{character:{name:"",path:"",htmlCode:"",tags:[],styles:""},tagsInput:"",added:!1}},methods:{async addCharacter(){if(this.character.name&&this.character.path){this.character.tags=this.tagsInput.split(",").map((a=>a.trim()));try{const a=(0,k.VC)((0,k.KR)(x,"characters"));await(0,k.hZ)(a,this.character),this.added=!0,this.character.name="",this.character.path="",this.character.htmlCode="",this.character.styles="",this.tagsInput="",setTimeout((()=>{this.added=!1,this.$router.push({name:"CharacterList"})}),2e3)}catch(a){console.error("Error adding character:",a),alert("Failed to add character.")}}else alert("Name and Path are required.")},goBack(){this.$router.push({name:"CharacterList"})}}};const S=(0,c.A)($,[["render",g],["__scopeId","data-v-6fe7a5f7"]]);var Q=S;const _={class:"navbar"},M=["disabled"],J={class:"details-container card"},K={class:"character-image-details"},O=["src","data-clipboard-text"],U={key:0,class:"copy-overlay-details"},j={class:"character-info"},N={class:"form-group"},V=["disabled"],Z={class:"form-group"},z=["disabled"],R={class:"form-group"},H=["disabled"],P={class:"form-group"},Y={class:"html-code-container"},G=["disabled"],W=["data-clipboard-text"],aa={key:0,class:"copy-overlay-details"},ta={class:"form-group"},ea=["disabled"],ra={key:0,class:"action-buttons"},sa={class:"left-actions"},oa={class:"right-actions"},ia={key:0,class:"delete-confirmation-overlay"},ca={class:"delete-confirmation-box"};function na(a,t,e,o,i,c){return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",_,[(0,s.Lk)("button",{class:"btn btn-close",onClick:t[0]||(t[0]=(...a)=>c.goBack&&c.goBack(...a))},"Back"),t[12]||(t[12]=(0,s.Lk)("h2",{class:"title"},"Character Details",-1)),(0,s.Lk)("button",{class:"btn btn-edit",disabled:i.isEditable,onClick:t[1]||(t[1]=(...a)=>c.toggleEdit&&c.toggleEdit(...a))},"Edit",8,M)]),(0,s.Lk)("div",J,[(0,s.Lk)("div",K,[(0,s.Lk)("img",{src:i.character.path,alt:"Character Image",class:"copy-target","data-clipboard-text":i.character.htmlCode,"data-index":"0"},null,8,O),i.copied?((0,s.uX)(),(0,s.CE)("div",U,"Copied!")):(0,s.Q3)("",!0)]),(0,s.Lk)("div",j,[(0,s.Lk)("div",N,[t[13]||(t[13]=(0,s.Lk)("label",{for:"name"},"Name:",-1)),(0,s.bo)((0,s.Lk)("input",{id:"name","onUpdate:modelValue":t[2]||(t[2]=a=>i.character.name=a),disabled:!i.isEditable},null,8,V),[[r.Jo,i.character.name]])]),(0,s.Lk)("div",Z,[t[14]||(t[14]=(0,s.Lk)("label",{for:"styles"},"Styles:",-1)),(0,s.bo)((0,s.Lk)("input",{id:"styles","onUpdate:modelValue":t[3]||(t[3]=a=>i.character.styles=a),disabled:!i.isEditable,placeholder:"Enter styles (optional)"},null,8,z),[[r.Jo,i.character.styles]])]),(0,s.Lk)("div",R,[t[15]||(t[15]=(0,s.Lk)("label",{for:"path"},"Path:",-1)),(0,s.bo)((0,s.Lk)("input",{id:"path","onUpdate:modelValue":t[4]||(t[4]=a=>i.character.path=a),disabled:!i.isEditable},null,8,H),[[r.Jo,i.character.path]])]),(0,s.Lk)("div",P,[t[16]||(t[16]=(0,s.Lk)("label",{for:"htmlCode"},"HTML Code:",-1)),(0,s.Lk)("div",Y,[(0,s.bo)((0,s.Lk)("textarea",{id:"htmlCode","onUpdate:modelValue":t[5]||(t[5]=a=>i.character.htmlCode=a),disabled:!i.isEditable},null,8,G),[[r.Jo,i.character.htmlCode]]),(0,s.Lk)("button",{class:"btn btn-copy-html","data-clipboard-text":i.character.htmlCode},"Copy HTML Code",8,W)]),i.copied?((0,s.uX)(),(0,s.CE)("div",aa,"Copied!")):(0,s.Q3)("",!0)]),(0,s.Lk)("div",ta,[t[17]||(t[17]=(0,s.Lk)("label",{for:"tags"},"Tags:",-1)),(0,s.bo)((0,s.Lk)("input",{id:"tags","onUpdate:modelValue":t[6]||(t[6]=a=>i.tagsInput=a),disabled:!i.isEditable,placeholder:"Enter tags, separated by commas"},null,8,ea),[[r.Jo,i.tagsInput]])]),i.isEditable?((0,s.uX)(),(0,s.CE)("div",ra,[(0,s.Lk)("div",sa,[(0,s.Lk)("button",{class:"btn btn-delete",onClick:t[7]||(t[7]=(...a)=>c.confirmDelete&&c.confirmDelete(...a))},"Delete")]),(0,s.Lk)("div",oa,[(0,s.Lk)("button",{class:"btn btn-cancel",onClick:t[8]||(t[8]=(...a)=>c.cancelEdit&&c.cancelEdit(...a))},"Cancel"),(0,s.Lk)("button",{class:"btn btn-save",onClick:t[9]||(t[9]=(...a)=>c.saveDetails&&c.saveDetails(...a))},"Save")])])):(0,s.Q3)("",!0)]),i.showDeleteConfirmation?((0,s.uX)(),(0,s.CE)("div",ia,[(0,s.Lk)("div",ca,[t[18]||(t[18]=(0,s.Lk)("p",null,"Are you sure you want to delete this character?",-1)),(0,s.Lk)("button",{class:"btn btn-yes",onClick:t[10]||(t[10]=(...a)=>c.deleteCharacter&&c.deleteCharacter(...a))},"Yes"),(0,s.Lk)("button",{class:"btn btn-no",onClick:t[11]||(t[11]=(...a)=>c.closeDeleteConfirmation&&c.closeDeleteConfirmation(...a))},"No")])])):(0,s.Q3)("",!0)])])}var la=e(3723),da=e.n(la),ha={data(){return{character:{name:"",path:"",htmlCode:"",tags:[],styles:""},isEditable:!1,tagsInput:"",copied:!1,showDeleteConfirmation:!1,clipboard:null}},methods:{async fetchCharacterDetails(){const a=this.$route.params.id,t=(0,k.KR)(x,`characters/${a}`);try{const a=await(0,k.Jt)(t);a.exists()?(this.character=a.val(),this.tagsInput=this.character.tags.join(", "),this.character.styles=this.character.styles||""):console.error("Character not found")}catch(e){console.error("Error fetching character details:",e)}},toggleEdit(){this.isEditable=!this.isEditable},cancelEdit(){this.isEditable=!1,this.fetchCharacterDetails()},async saveDetails(){const a=this.$route.params.id;this.character.tags=this.tagsInput.split(",").map((a=>a.trim()));const t=(0,k.KR)(x,`characters/${a}`);try{await(0,k.yo)(t,this.character),this.isEditable=!1}catch(e){console.error("Error saving character details:",e)}},handleCopySuccess(a){this.copied=!0,setTimeout((()=>{this.copied=!1}),2e3),a.clearSelection()},handleCopyError(a){console.error("Clipboard copy failed:",a),alert("Failed to copy HTML Code.")},goBack(){this.$router.push({name:"CharacterList"})},confirmDelete(){this.showDeleteConfirmation=!0},closeDeleteConfirmation(){this.showDeleteConfirmation=!1},async deleteCharacter(){const a=this.$route.params.id,t=(0,k.KR)(x,`characters/${a}`);try{await(0,k.TF)(t),this.$router.push({name:"CharacterList"})}catch(e){console.error("Error deleting character:",e)}}},mounted(){this.fetchCharacterDetails(),this.clipboard=new(da())(".btn-copy-html"),this.clipboard.on("success",this.handleCopySuccess),this.clipboard.on("error",this.handleCopyError)},beforeUnmount(){this.clipboard&&this.clipboard.destroy()}};const ua=(0,c.A)(ha,[["render",na],["__scopeId","data-v-31e6ad02"]]);var pa=ua;const va={class:"favorites-page"},ba={key:0,class:"card-flex-container"},ma=["data-clipboard-text","data-index"],fa={class:"image-wrapper"},Ca=["src"],ga={key:0,class:"copy-overlay"},ka={class:"card-content"},ya={class:"button-group"},La=["onClick"],wa={key:0,xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"#ffa933"},Ea={key:1,xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"#ffa933"},xa=["onClick"],Ta={key:1,class:"no-favorites"};function Fa(a,t,e,o,i,c){const n=(0,s.g2)("AppNavbar");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(n),(0,s.Lk)("div",va,[t[5]||(t[5]=(0,s.Lk)("h2",{class:"favorites-title"},"Favourites",-1)),i.favoriteCharacters.length?((0,s.uX)(),(0,s.CE)("div",ba,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.favoriteCharacters,((a,e)=>((0,s.uX)(),(0,s.CE)("div",{key:a.id,class:"card copy-target","data-clipboard-text":a.htmlCode,"data-index":e,tabindex:"0","aria-label":"Copy HTML code for {{ character.name }}"},[(0,s.Lk)("div",fa,[(0,s.Lk)("img",{src:a.path,alt:"Character Image",onError:t[0]||(t[0]=a=>c.handleImageError(a)),loading:"lazy"},null,40,Ca),(0,s.bF)(r.eB,{name:"fade"},{default:(0,s.k6)((()=>[i.copiedCardId===a.id?((0,s.uX)(),(0,s.CE)("div",ga,"Copied!")):(0,s.Q3)("",!0)])),_:2},1024)]),(0,s.Lk)("div",ka,[(0,s.Lk)("h3",null,(0,T.v_)(a.name),1),(0,s.Lk)("div",ya,[(0,s.Lk)("button",{onClick:(0,r.D$)((t=>c.toggleFavorite(a)),["stop"]),class:"btn btn-favorite","aria-label":"Toggle favorite for {{ character.name }}"},[c.isFavorite(a.id)?((0,s.uX)(),(0,s.CE)("svg",wa,t[1]||(t[1]=[(0,s.Lk)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},null,-1)]))):((0,s.uX)(),(0,s.CE)("svg",Ea,t[2]||(t[2]=[(0,s.Lk)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24zm-10 6.14l-3.76 2.27 1-4.28L5.5 10.5l4.38-.38L12 6l2.12 4.12 4.38.38-3.24 3.63 1 4.28L12 15.38z"},null,-1)])))],8,La),(0,s.Lk)("button",{onClick:(0,r.D$)((t=>c.openCharacterDetails(a)),["stop"]),class:"btn btn-info btn-info-custom","aria-label":"More information about {{ character.name }}"},t[3]||(t[3]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 -960 960 960",width:"18px",fill:"#2980b9"},[(0,s.Lk)("path",{d:"M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})],-1)]),8,xa)])])],8,ma)))),128))])):((0,s.uX)(),(0,s.CE)("div",Ta,t[4]||(t[4]=[(0,s.Lk)("p",null,"You have no favorite characters yet. Start adding some!",-1)])))])],64)}const Ia={class:"navbar"},Aa={class:"title"},qa={key:1,class:"navbar-buttons"};function Da(a,t,e,r,o,i){return(0,s.uX)(),(0,s.CE)("div",Ia,[i.showBackButton?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"btn btn-back",onClick:t[0]||(t[0]=(...a)=>i.goBack&&i.goBack(...a)),"aria-label":"Go Back"}," Back ")):(0,s.Q3)("",!0),(0,s.Lk)("h2",Aa,(0,T.v_)(i.navbarTitle),1),i.showAddAndFavoritesButtons?((0,s.uX)(),(0,s.CE)("div",qa,[i.showAddButton?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"btn btn-add",onClick:t[1]||(t[1]=(...a)=>i.navigateToAddCharacter&&i.navigateToAddCharacter(...a))}," Add Character ")):(0,s.Q3)("",!0),(0,s.Lk)("button",{class:"btn btn-favorites",onClick:t[2]||(t[2]=(...a)=>i.navigateToFavorites&&i.navigateToFavorites(...a)),"aria-label":"View Favorites"}," Favourites ")])):(0,s.Q3)("",!0)])}var Ba={name:"AppNavbar",computed:{showAddAndFavoritesButtons(){return"AddCharacter"!==this.$route.name&&"CharacterFavorite"!==this.$route.name},showAddButton(){return"AddCharacter"!==this.$route.name&&"CharacterFavorite"!==this.$route.name},showBackButton(){return["AddCharacter","CharacterFavorite","CharacterDetails"].includes(this.$route.name)},navbarTitle(){return"CharacterFavorite"===this.$route.name?"Favorites":"Character Finder v0.3.8"}},methods:{navigateToAddCharacter(){this.$router.push({name:"AddCharacter"})},navigateToFavorites(){this.$router.push({name:"CharacterFavorite"})},goBack(){this.$router.back()}}};const Xa=(0,c.A)(Ba,[["render",Da],["__scopeId","data-v-e5c86ff8"]]);var $a=Xa,Sa={name:"CharacterFavorite",components:{AppNavbar:$a},data(){return{favoriteCharacters:[],copiedCardId:null,clipboard:null}},methods:{async fetchFavoriteCharacters(){try{const a=(0,k.KR)(x,"favorites/"),t=await(0,k.Jt)(a);if(t.exists()){const a=Object.keys(t.val());if(0===a.length)return void(this.favoriteCharacters=[]);const e=(0,k.KR)(x,"characters/"),r=await(0,k.Jt)(e);if(r.exists()){const t=r.val();this.favoriteCharacters=a.map((a=>({id:a,...t[a]})))}else this.favoriteCharacters=[]}else this.favoriteCharacters=[]}catch(a){console.error("Error fetching favorite characters:",a)}},async toggleFavorite(a){try{const t=(0,k.KR)(x,`favorites/${a.id}`);this.isFavorite(a.id)?await(0,k.TF)(t):await(0,k.hZ)(t,!0),this.fetchFavoriteCharacters()}catch(t){console.error("Error toggling favorite:",t)}},isFavorite(a){return this.favoriteCharacters.some((t=>t.id===a))},handleCopySuccess(a){const t=parseInt(a.trigger.getAttribute("data-index")),e=this.favoriteCharacters[t];e&&(this.copiedCardId=e.id,setTimeout((()=>{this.copiedCardId=null}),2e3)),a.clearSelection()},handleCopyError(a){console.error("Clipboard copy failed:",a),alert("Failed to copy HTML Code.")},initializeClipboard(){this.clipboard&&this.clipboard.destroy(),this.favoriteCharacters.length>0&&(this.clipboard=new(da())(".copy-target"),this.clipboard.on("success",this.handleCopySuccess),this.clipboard.on("error",this.handleCopyError))},openCharacterDetails(a){this.$router.push({name:"CharacterDetails",params:{id:a.id}})},handleImageError(a){a.target.src="https://via.placeholder.com/300x300?text=Image+Not+Found"}},watch:{favoriteCharacters(a,t){this.$nextTick((()=>{this.initializeClipboard()}))}},mounted(){this.fetchFavoriteCharacters()},beforeUnmount(){this.clipboard&&this.clipboard.destroy()}};const Qa=(0,c.A)(Sa,[["render",Fa],["__scopeId","data-v-1e2fe039"]]);var _a=Qa;const Ma={class:"character-list"},Ja={class:"search-bar flex-center gap-10 p-20 bg-secondary"},Ka={key:0,class:"card-flex-container"},Oa=["data-clipboard-text","data-index"],Ua={class:"image-wrapper"},ja=["src"],Na={key:0,class:"copy-overlay"},Va={class:"card-content"},Za={class:"button-group"},za=["onClick"],Ra={key:0,xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"#ffa933"},Ha={key:1,xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 0 24 24",width:"18px",fill:"#ffa933"},Pa=["onClick"],Ya={key:1,class:"no-characters"},Ga={key:2,class:"all-characters"};function Wa(a,t,e,o,i,c){const n=(0,s.g2)("AppNavbar");return(0,s.uX)(),(0,s.CE)("div",Ma,[(0,s.bF)(n),(0,s.Lk)("div",Ja,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>i.searchQuery=a),type:"text",placeholder:"Search characters...",class:"search-input w-500 font-medium",onInput:t[1]||(t[1]=(...a)=>c.debouncedSearchCharacters&&c.debouncedSearchCharacters(...a))},null,544),[[r.Jo,i.searchQuery]]),(0,s.Lk)("button",{class:"btn btn-search",onClick:t[2]||(t[2]=(...a)=>c.searchCharacters&&c.searchCharacters(...a))},"Search")]),i.filteredCharacters.length?((0,s.uX)(),(0,s.CE)("div",Ka,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.filteredCharacters,((a,e)=>((0,s.uX)(),(0,s.CE)("div",{key:a.id,class:"card copy-target","data-clipboard-text":a.htmlCode,"data-index":e,tabindex:"0","aria-label":"Copy HTML code for {{ character.name }}"},[(0,s.Lk)("div",Ua,[(0,s.Lk)("img",{src:a.path,alt:"Character Image",onError:t[3]||(t[3]=a=>c.handleImageError(a)),loading:"lazy"},null,40,ja),i.copiedCardId===a.id?((0,s.uX)(),(0,s.CE)("div",Na,"Copied!")):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Va,[(0,s.Lk)("h3",null,(0,T.v_)(a.name),1),(0,s.Lk)("div",Za,[(0,s.Lk)("button",{onClick:(0,r.D$)((t=>c.toggleFavorite(a)),["stop"]),class:"btn btn-favorite","aria-label":"Toggle favorite for {{ character.name }}"},[c.isFavorite(a.id)?((0,s.uX)(),(0,s.CE)("svg",Ra,t[4]||(t[4]=[(0,s.Lk)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},null,-1)]))):((0,s.uX)(),(0,s.CE)("svg",Ha,t[5]||(t[5]=[(0,s.Lk)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24zm-10 6.14l-3.76 2.27 1-4.28L5.5 10.5l4.38-.38L12 6l2.12 4.12 4.38.38-3.24 3.63 1 4.28L12 15.38z"},null,-1)])))],8,za),(0,s.Lk)("button",{onClick:(0,r.D$)((t=>c.openCharacterDetails(a)),["stop"]),class:"btn btn-info btn-info-custom","aria-label":"More information about {{ character.name }}"},t[6]||(t[6]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 -960 960 960",width:"18px",fill:"#2980b9"},[(0,s.Lk)("path",{d:"M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})],-1)]),8,Pa)])])],8,Oa)))),128))])):i.searchQuery.trim()?((0,s.uX)(),(0,s.CE)("div",Ya,t[7]||(t[7]=[(0,s.Lk)("p",null,"No characters found. Try adjusting your search.",-1)]))):((0,s.uX)(),(0,s.CE)("div",Ga,t[8]||(t[8]=[(0,s.Lk)("p",null,"To find an image, please search for a tag.",-1)])))])}var at={components:{AppNavbar:$a},data(){return{searchQuery:"",characters:[],filteredCharacters:[],copiedCardId:null,clipboard:null,debounceTimer:null,favorites:[]}},methods:{openCharacterDetails(a){this.$router.push({name:"CharacterDetails",params:{id:a.id}})},debouncedSearchCharacters(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(this.searchCharacters,300)},async searchCharacters(){const a=this.searchQuery.trim();if(""===a)return this.filteredCharacters=[],void sessionStorage.removeItem("searchQuery");sessionStorage.setItem("searchQuery",this.searchQuery);const t=a.toLowerCase().split(",").map((a=>a.trim())).filter((a=>""!==a));this.filteredCharacters=this.characters.filter((a=>{const e=t.some((t=>a.name.toLowerCase().includes(t))),r=a.tags&&a.tags.some((a=>t.some((t=>a.toLowerCase().includes(t)))));return e||r})),this.$nextTick((()=>{this.initializeClipboard()}))},async fetchCharacters(){const a=(0,k.KR)(x,"characters/");try{const t=await(0,k.Jt)(a);t.exists()?(this.characters=Object.entries(t.val()).map((([a,t])=>({id:a,...t}))),this.applySearchQuery()):console.log("No characters found in the database.")}catch(t){console.error("Error fetching characters:",t)}},applySearchQuery(){const a=sessionStorage.getItem("searchQuery");a?(this.searchQuery=a,this.searchCharacters()):this.filteredCharacters=[]},async toggleFavorite(a){try{const t=(0,k.KR)(x,`favorites/${a.id}`);this.isFavorite(a.id)?(await(0,k.TF)(t),this.favorites=this.favorites.filter((t=>t!==a.id))):(await(0,k.hZ)(t,!0),this.favorites.push(a.id)),this.searchCharacters()}catch(t){console.error("Error toggling favorite:",t)}},isFavorite(a){return this.favorites.includes(a)},async fetchFavorites(){try{const a=(0,k.KR)(x,"favorites/"),t=await(0,k.Jt)(a);t.exists()?this.favorites=Object.keys(t.val()):this.favorites=[]}catch(a){console.error("Error fetching favorites:",a)}},handleCopySuccess(a){const t=parseInt(a.trigger.getAttribute("data-index")),e=this.filteredCharacters[t];e&&(this.copiedCardId=e.id,setTimeout((()=>{this.copiedCardId=null}),2e3)),a.clearSelection()},handleCopyError(a){console.error("Clipboard copy failed:",a),alert("Failed to copy HTML Code.")},initializeClipboard(){this.clipboard&&this.clipboard.destroy(),this.filteredCharacters.length>0&&(this.clipboard=new(da())(".copy-target"),this.clipboard.on("success",this.handleCopySuccess),this.clipboard.on("error",this.handleCopyError))},handleImageError(a){a.target.src="https://via.placeholder.com/300x300?text=Image+Not+Found"}},async created(){await this.fetchFavorites()},watch:{characters(){this.applySearchQuery()}},mounted(){this.fetchCharacters()},beforeUnmount(){this.clipboard&&this.clipboard.destroy()}};const tt=(0,c.A)(at,[["render",Wa],["__scopeId","data-v-c9128656"]]);var et=tt;const rt=[{path:"/",name:"CharacterList",component:et},{path:"/character/:id",name:"CharacterDetails",component:pa,props:!0},{path:"/add-character",name:"AddCharacter",component:Q},{path:"/favorites",name:"CharacterFavorite",component:_a},{path:"/:pathMatch(.*)*",redirect:"/"}],st=(0,d.aE)({history:(0,d.LA)(),routes:rt});var ot=st;const it=(0,r.Ef)(l);it.use(ot),it.mount("#app")}},t={};function e(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return a[r].call(o.exports,o,o.exports,e),o.exports}e.m=a,function(){var a=[];e.O=function(t,r,s,o){if(!r){var i=1/0;for(d=0;d<a.length;d++){r=a[d][0],s=a[d][1],o=a[d][2];for(var c=!0,n=0;n<r.length;n++)(!1&o||i>=o)&&Object.keys(e.O).every((function(a){return e.O[a](r[n])}))?r.splice(n--,1):(c=!1,o<i&&(i=o));if(c){a.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=a.length;d>0&&a[d-1][2]>o;d--)a[d]=a[d-1];a[d]=[r,s,o]}}(),function(){e.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return e.d(t,{a:t}),t}}(),function(){e.d=function(a,t){for(var r in t)e.o(t,r)&&!e.o(a,r)&&Object.defineProperty(a,r,{enumerable:!0,get:t[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){e.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)}}(),function(){var a={524:0};e.O.j=function(t){return 0===a[t]};var t=function(t,r){var s,o,i=r[0],c=r[1],n=r[2],l=0;if(i.some((function(t){return 0!==a[t]}))){for(s in c)e.o(c,s)&&(e.m[s]=c[s]);if(n)var d=n(e)}for(t&&t(r);l<i.length;l++)o=i[l],e.o(a,o)&&a[o]&&a[o][0](),a[o]=0;return e.O(d)},r=self["webpackChunkcharacter_finder"]=self["webpackChunkcharacter_finder"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=e.O(void 0,[504],(function(){return e(5683)}));r=e.O(r)})();
//# sourceMappingURL=app.9449a674.js.map