(function(){"use strict";var e={5513:function(e,a,t){var r=t(5130),o=t(6768);function s(e,a,t,r,s,c){const i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(i)}var c={name:"App"},i=t(1241);const n=(0,i.A)(c,[["render",s]]);var l=n,d=t(1387),h=t(4232);const u={class:"form-container card"},p={class:"form-group"},b={class:"form-group"},m={class:"form-group"},C={class:"form-group"},f={class:"action-buttons"},v={key:0,class:"error-popup-overlay"},g={class:"error-popup-box"};function k(e,a,t,s,c,i){const n=(0,o.g2)("AppNavbar"),l=(0,o.g2)("AppOverlay");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(n,{title:"Add New Character",showBackButton:!0}),(0,o.Lk)("div",u,[(0,o.Lk)("div",p,[a[6]||(a[6]=(0,o.Lk)("label",{for:"name"},"Name:",-1)),(0,o.bo)((0,o.Lk)("input",{id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>c.character.name=e),placeholder:"Enter character name"},null,512),[[r.Jo,c.character.name]])]),(0,o.Lk)("div",b,[a[7]||(a[7]=(0,o.Lk)("label",{for:"path"},"Path:",-1)),(0,o.bo)((0,o.Lk)("input",{id:"path","onUpdate:modelValue":a[1]||(a[1]=e=>c.character.path=e),placeholder:"Enter image URL"},null,512),[[r.Jo,c.character.path]])]),(0,o.Lk)("div",m,[a[8]||(a[8]=(0,o.Lk)("label",{for:"htmlCode"},"HTML Code:",-1)),(0,o.bo)((0,o.Lk)("textarea",{id:"htmlCode","onUpdate:modelValue":a[2]||(a[2]=e=>c.character.htmlCode=e),placeholder:"Enter HTML code"},null,512),[[r.Jo,c.character.htmlCode]])]),(0,o.Lk)("div",C,[a[9]||(a[9]=(0,o.Lk)("label",{for:"tags"},"Tags:",-1)),(0,o.bo)((0,o.Lk)("input",{id:"tags","onUpdate:modelValue":a[3]||(a[3]=e=>c.tagsInput=e),placeholder:"Enter tags, separated by commas"},null,512),[[r.Jo,c.tagsInput]])]),(0,o.Lk)("div",f,[(0,o.Lk)("button",{class:"btn btn-save",onClick:a[4]||(a[4]=(...e)=>i.addCharacter&&i.addCharacter(...e))},"Add")]),c.showErrorPopup?((0,o.uX)(),(0,o.CE)("div",v,[(0,o.Lk)("div",g,[(0,o.Lk)("p",null,(0,h.v_)(c.errorMessage),1),(0,o.Lk)("button",{class:"btn btn-close",onClick:a[5]||(a[5]=(...e)=>i.closeErrorPopup&&i.closeErrorPopup(...e))},"Close")])])):(0,o.Q3)("",!0),(0,o.bF)(l,{visible:c.added,message:"Added!"},null,8,["visible"])])])}t(4114);var y=t(4161),L=t(6400),E=t(6971);const w={apiKey:"AIzaSyB724ERPtmM_gm3K2H63fbfKEjrU3jwVsQ",authDomain:"character-finder-70853.firebaseapp.com",projectId:"character-finder-70853",storageBucket:"character-finder-70853.appspot.com",messagingSenderId:"122301174396",appId:"1:122301174396:web:14ba70377dbcb829656ff9",measurementId:"G-C0Y1ED8FZP"},I=(0,L.Wp)(w),T=((0,E.xI)(I),(0,y.C3)(I)),x={class:"navbar"},A={class:"navbar-title"},D={class:"title"};function B(e,a,t,r,s,c){return(0,o.uX)(),(0,o.CE)("div",x,[t.showBackButton?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"btn btn-back",onClick:a[0]||(a[0]=(...e)=>c.goBack&&c.goBack(...e))},"Back")):(0,o.Q3)("",!0),(0,o.Lk)("div",A,[a[2]||(a[2]=(0,o.Lk)("img",{src:"/IF_icon.svg",alt:"App Logo",class:"navbar-logo"},null,-1)),(0,o.Lk)("h2",D,(0,h.v_)(t.title),1)]),t.showAddButton?((0,o.uX)(),(0,o.CE)("button",{key:1,class:"btn btn-add",onClick:a[1]||(a[1]=(...e)=>c.goToAddCharacter&&c.goToAddCharacter(...e))},"Add Image")):(0,o.Q3)("",!0)])}var Q={props:{title:{type:String,required:!0},showBackButton:{type:Boolean,default:!1},showAddButton:{type:Boolean,default:!1}},methods:{goBack(){this.$router.go(-1)},goToAddCharacter(){this.$router.push({name:"AddCharacter"})}}};const S=(0,i.A)(Q,[["render",B],["__scopeId","data-v-5495602f"]]);var _=S;const q={key:0,class:"overlay-background"},X={class:"overlay"},M={class:"overlay-message"};function P(e,a,t,r,s,c){return t.visible?((0,o.uX)(),(0,o.CE)("div",q,[(0,o.Lk)("div",X,[(0,o.Lk)("p",M,(0,h.v_)(t.message),1)])])):(0,o.Q3)("",!0)}var F={props:{visible:{type:Boolean,required:!0},message:{type:String,required:!0}}};const O=(0,i.A)(F,[["render",P],["__scopeId","data-v-ba1c96ea"]]);var $=O,U={components:{AppNavbar:_,AppOverlay:$},data(){return{character:{name:"",path:"",htmlCode:"",tags:[]},tagsInput:"",added:!1,showErrorPopup:!1,errorMessage:""}},methods:{async addCharacter(){if(!this.character.name||!this.character.path)return this.errorMessage="Name and Path are required.",void(this.showErrorPopup=!0);this.character.tags=this.tagsInput.split(",").map((e=>e.trim()));try{const e=(0,y.VC)((0,y.KR)(T,"characters"));await(0,y.hZ)(e,this.character),this.added=!0,this.character.name="",this.character.path="",this.character.htmlCode="",this.tagsInput="",setTimeout((()=>{this.added=!1,this.$router.push({name:"CharacterList"})}),2e3)}catch(e){console.error("Error adding character:",e),this.errorMessage="Failed to add character.",this.showErrorPopup=!0}},closeErrorPopup(){this.showErrorPopup=!1}}};const j=(0,i.A)(U,[["render",k],["__scopeId","data-v-ca91b6a8"]]);var N=j;const J={class:"navbar"},V=["disabled"],K={class:"details-container card"},H={class:"character-image-details"},R=["src","data-clipboard-text"],Z={key:0,class:"copy-overlay-details"},z={class:"character-info"},W={class:"form-group"},Y=["disabled"],G={class:"form-group"},ee=["disabled"],ae={class:"form-group"},te={class:"html-code-container"},re=["disabled"],oe=["data-clipboard-text"],se={key:0,class:"copy-overlay-details"},ce={class:"form-group"},ie=["disabled"],ne={key:0,class:"action-buttons"},le={class:"left-actions"},de={class:"right-actions"},he={key:0,class:"delete-confirmation-overlay"},ue={class:"delete-confirmation-box"};function pe(e,a,t,s,c,i){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",J,[(0,o.Lk)("button",{class:"btn btn-close",onClick:a[0]||(a[0]=(...e)=>i.goBack&&i.goBack(...e))},"Back"),a[11]||(a[11]=(0,o.Lk)("div",{class:"navbar-title"},[(0,o.Lk)("h2",{class:"title"},[(0,o.Lk)("img",{src:"/IF_icon.svg",alt:"App Logo",class:"navbar-logo"}),(0,o.eW)(" Character Details ")])],-1)),(0,o.Lk)("button",{class:"btn btn-edit",disabled:c.isEditable,onClick:a[1]||(a[1]=(...e)=>i.toggleEdit&&i.toggleEdit(...e))},"Edit",8,V)]),(0,o.Lk)("div",K,[(0,o.Lk)("div",H,[(0,o.Lk)("img",{src:c.character.path,alt:"Character Image",class:"copy-target","data-clipboard-text":c.character.htmlCode,"data-index":"0"},null,8,R),c.copied?((0,o.uX)(),(0,o.CE)("div",Z,"Copied!")):(0,o.Q3)("",!0)]),(0,o.Lk)("div",z,[(0,o.Lk)("div",W,[a[12]||(a[12]=(0,o.Lk)("label",{for:"name"},"Name:",-1)),(0,o.bo)((0,o.Lk)("input",{id:"name","onUpdate:modelValue":a[2]||(a[2]=e=>c.character.name=e),disabled:!c.isEditable},null,8,Y),[[r.Jo,c.character.name]])]),(0,o.Lk)("div",G,[a[13]||(a[13]=(0,o.Lk)("label",{for:"path"},"Path:",-1)),(0,o.bo)((0,o.Lk)("input",{id:"path","onUpdate:modelValue":a[3]||(a[3]=e=>c.character.path=e),disabled:!c.isEditable},null,8,ee),[[r.Jo,c.character.path]])]),(0,o.Lk)("div",ae,[a[14]||(a[14]=(0,o.Lk)("label",{for:"htmlCode"},"HTML Code:",-1)),(0,o.Lk)("div",te,[(0,o.bo)((0,o.Lk)("textarea",{id:"htmlCode","onUpdate:modelValue":a[4]||(a[4]=e=>c.character.htmlCode=e),disabled:!c.isEditable},null,8,re),[[r.Jo,c.character.htmlCode]]),(0,o.Lk)("button",{class:"btn btn-copy-html","data-clipboard-text":c.character.htmlCode},"Copy HTML Code",8,oe)]),c.copied?((0,o.uX)(),(0,o.CE)("div",se,"Copied!")):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ce,[a[15]||(a[15]=(0,o.Lk)("label",{for:"tags"},"Tags:",-1)),(0,o.bo)((0,o.Lk)("input",{id:"tags","onUpdate:modelValue":a[5]||(a[5]=e=>c.tagsInput=e),disabled:!c.isEditable,placeholder:"Enter tags, separated by commas"},null,8,ie),[[r.Jo,c.tagsInput]])]),c.isEditable?((0,o.uX)(),(0,o.CE)("div",ne,[(0,o.Lk)("div",le,[(0,o.Lk)("button",{class:"btn btn-delete",onClick:a[6]||(a[6]=(...e)=>i.confirmDelete&&i.confirmDelete(...e))},"Delete")]),(0,o.Lk)("div",de,[(0,o.Lk)("button",{class:"btn btn-cancel",onClick:a[7]||(a[7]=(...e)=>i.cancelEdit&&i.cancelEdit(...e))},"Cancel"),(0,o.Lk)("button",{class:"btn btn-save",onClick:a[8]||(a[8]=(...e)=>i.saveDetails&&i.saveDetails(...e))},"Save")])])):(0,o.Q3)("",!0)]),c.showDeleteConfirmation?((0,o.uX)(),(0,o.CE)("div",he,[(0,o.Lk)("div",ue,[a[16]||(a[16]=(0,o.Lk)("p",null,"Are you sure you want to delete this character?",-1)),(0,o.Lk)("button",{class:"btn btn-yes",onClick:a[9]||(a[9]=(...e)=>i.deleteCharacter&&i.deleteCharacter(...e))},"Yes"),(0,o.Lk)("button",{class:"btn btn-no",onClick:a[10]||(a[10]=(...e)=>i.closeDeleteConfirmation&&i.closeDeleteConfirmation(...e))},"No")])])):(0,o.Q3)("",!0)])])}var be=t(3723),me=t.n(be),Ce={data(){return{character:{name:"",path:"",htmlCode:"",tags:[]},isEditable:!1,tagsInput:"",copied:!1,showDeleteConfirmation:!1,clipboard:null}},methods:{async fetchCharacterDetails(){const e=this.$route.params.id,a=(0,y.KR)(T,`characters/${e}`);try{const e=await(0,y.Jt)(a);e.exists()?(this.character=e.val(),this.tagsInput=this.character.tags.join(", ")):console.error("Character not found")}catch(t){console.error("Error fetching character details:",t)}},toggleEdit(){this.isEditable=!this.isEditable},cancelEdit(){this.isEditable=!1,this.fetchCharacterDetails()},async saveDetails(){const e=this.$route.params.id;this.character.tags=this.tagsInput.split(",").map((e=>e.trim()));const a=(0,y.KR)(T,`characters/${e}`);try{await(0,y.yo)(a,this.character),this.isEditable=!1}catch(t){console.error("Error saving character details:",t)}},handleCopySuccess(e){this.copied=!0,setTimeout((()=>{this.copied=!1}),2e3),e.clearSelection()},handleCopyError(e){console.error("Clipboard copy failed:",e),alert("Failed to copy HTML Code.")},goBack(){this.$router.push({name:"CharacterList"})},confirmDelete(){this.showDeleteConfirmation=!0},closeDeleteConfirmation(){this.showDeleteConfirmation=!1},async deleteCharacter(){const e=this.$route.params.id,a=(0,y.KR)(T,`characters/${e}`);try{await(0,y.TF)(a),this.$router.push({name:"CharacterList"})}catch(t){console.error("Error deleting character:",t)}}},mounted(){this.fetchCharacterDetails(),this.clipboard=new(me())(".btn-copy-html"),this.clipboard.on("success",this.handleCopySuccess),this.clipboard.on("error",this.handleCopyError)},beforeUnmount(){this.clipboard&&this.clipboard.destroy()}};const fe=(0,i.A)(Ce,[["render",pe],["__scopeId","data-v-5215d9a2"]]);var ve=fe;const ge={class:"character-list"},ke={class:"search-bar flex-center gap-10 p-20 bg-secondary"},ye={key:0,class:"card-flex-container"},Le=["data-clipboard-text","data-index"],Ee={class:"image-wrapper"},we=["src"],Ie={key:0,class:"copy-overlay"},Te={class:"card-content"},xe=["onClick"],Ae={key:1,class:"no-characters"},De={key:2,class:"all-characters"};function Be(e,a,t,s,c,i){const n=(0,o.g2)("AppNavbar");return(0,o.uX)(),(0,o.CE)("div",ge,[(0,o.bF)(n,{title:"Image Finder v0.3.8",showAddButton:!0}),(0,o.Lk)("div",ke,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>c.searchQuery=e),type:"text",placeholder:"Search characters...",class:"search-input w-500 font-medium",onInput:a[1]||(a[1]=(...e)=>i.debouncedSearchCharacters&&i.debouncedSearchCharacters(...e))},null,544),[[r.Jo,c.searchQuery]]),(0,o.Lk)("button",{class:"btn btn-search",onClick:a[2]||(a[2]=(...e)=>i.searchCharacters&&i.searchCharacters(...e))},"Search")]),c.filteredCharacters.length?((0,o.uX)(),(0,o.CE)("div",ye,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(c.filteredCharacters,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"card copy-target","data-clipboard-text":e.htmlCode,"data-index":t,tabindex:"0","aria-label":"Copy HTML code for {{ character.name }}"},[(0,o.Lk)("div",Ee,[(0,o.Lk)("img",{src:e.path,alt:"Character Image",onError:a[3]||(a[3]=e=>i.handleImageError(e)),loading:"lazy"},null,40,we),c.copiedCardId===e.id?((0,o.uX)(),(0,o.CE)("div",Ie,"Copied!")):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Te,[(0,o.Lk)("h3",null,(0,h.v_)(e.name),1),(0,o.Lk)("button",{onClick:(0,r.D$)((a=>i.openCharacterDetails(e)),["stop"]),class:"btn btn-info","aria-label":"More information about {{ character.name }}"},a[4]||(a[4]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 -960 960 960",width:"18px",fill:"#fff"},[(0,o.Lk)("path",{d:"M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})],-1)]),8,xe)])],8,Le)))),128))])):c.searchQuery.trim()?((0,o.uX)(),(0,o.CE)("div",Ae,a[5]||(a[5]=[(0,o.Lk)("p",null,"No characters found. Try adjusting your search.",-1)]))):((0,o.uX)(),(0,o.CE)("div",De,a[6]||(a[6]=[(0,o.Lk)("p",null,"To find an image, please search for a tag.",-1)])))])}var Qe={components:{AppNavbar:_},data(){return{searchQuery:"",characters:[],filteredCharacters:[],copiedCardId:null,clipboard:null,debounceTimer:null}},methods:{openCharacterDetails(e){this.$router.push({name:"CharacterDetails",params:{id:e.id}})},debouncedSearchCharacters(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(this.searchCharacters,300)},searchCharacters(){const e=this.searchQuery.trim();if(""===e)return this.filteredCharacters=[],void sessionStorage.removeItem("searchQuery");sessionStorage.setItem("searchQuery",this.searchQuery);const a=e.toLowerCase().split(",").map((e=>e.trim())).filter((e=>""!==e));this.filteredCharacters=this.characters.filter((e=>{const t=a.some((a=>e.name.toLowerCase().includes(a))),r=e.tags&&e.tags.some((e=>a.some((a=>e.toLowerCase().includes(a)))));return t||r})),this.$nextTick((()=>{this.initializeClipboard()}))},async fetchCharacters(){const e=(0,y.KR)(T,"characters/");try{const a=await(0,y.Jt)(e);a.exists()?(this.characters=Object.entries(a.val()).map((([e,a])=>({id:e,...a}))),this.applySearchQuery()):console.log("No characters found in the database.")}catch(a){console.error("Error fetching characters:",a)}},applySearchQuery(){const e=sessionStorage.getItem("searchQuery");e?(this.searchQuery=e,this.searchCharacters()):this.filteredCharacters=[]},handleCopySuccess(e){const a=parseInt(e.trigger.getAttribute("data-index")),t=this.filteredCharacters[a];t&&(this.copiedCardId=t.id,setTimeout((()=>{this.copiedCardId=null}),2e3)),e.clearSelection()},handleCopyError(e){console.error("Clipboard copy failed:",e),alert("Failed to copy HTML Code.")},initializeClipboard(){this.clipboard&&this.clipboard.destroy(),this.filteredCharacters.length>0&&(this.clipboard=new(me())(".copy-target"),this.clipboard.on("success",this.handleCopySuccess),this.clipboard.on("error",this.handleCopyError))},handleImageError(e){e.target.src="https://via.placeholder.com/300x300?text=Image+Not+Found"}},mounted(){this.fetchCharacters()},beforeUnmount(){this.clipboard&&this.clipboard.destroy()}};const Se=(0,i.A)(Qe,[["render",Be],["__scopeId","data-v-6ab11d74"]]);var _e=Se;const qe=[{path:"/",name:"CharacterList",component:_e},{path:"/character/:id",name:"CharacterDetails",component:ve,props:!0},{path:"/add-character",name:"AddCharacter",component:N},{path:"/:pathMatch(.*)*",redirect:"/"}],Xe=(0,d.aE)({history:(0,d.LA)(),routes:qe});var Me=Xe;const Pe=(0,r.Ef)(l);Pe.use(Me),Pe.mount("#app")}},a={};function t(r){var o=a[r];if(void 0!==o)return o.exports;var s=a[r]={exports:{}};return e[r].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(a,r,o,s){if(!r){var c=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],s=e[d][2];for(var i=!0,n=0;n<r.length;n++)(!1&s||c>=s)&&Object.keys(t.O).every((function(e){return t.O[e](r[n])}))?r.splice(n--,1):(i=!1,s<c&&(c=s));if(i){e.splice(d--,1);var l=o();void 0!==l&&(a=l)}}return a}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,o,s]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,r){var o,s,c=r[0],i=r[1],n=r[2],l=0;if(c.some((function(a){return 0!==e[a]}))){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(n)var d=n(t)}for(a&&a(r);l<c.length;l++)s=c[l],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(d)},r=self["webpackChunkcharacter_finder"]=self["webpackChunkcharacter_finder"]||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))}();var r=t.O(void 0,[504],(function(){return t(5513)}));r=t.O(r)})();
//# sourceMappingURL=app.33a4f3c2.js.map