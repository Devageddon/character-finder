(function(){"use strict";var a={2880:function(a,e,t){var r=t(5130),c=t(6768);function s(a,e,t,r,s,o){const i=(0,c.g2)("router-view");return(0,c.uX)(),(0,c.Wv)(i)}var o={name:"App"},i=t(1241);const n=(0,i.A)(o,[["render",s]]);var l=n,d=t(1387);const h={class:"navbar"},u={class:"form-container"},p={class:"form-group"},m={class:"form-group"},b={class:"form-group"},C={class:"form-group"},f={class:"action-buttons"};function v(a,e,t,s,o,i){const n=(0,c.g2)("AppOverlay");return(0,c.uX)(),(0,c.CE)("div",null,[(0,c.Lk)("div",h,[(0,c.Lk)("button",{class:"btn btn-back",onClick:e[0]||(e[0]=(...a)=>i.goBack&&i.goBack(...a))},"Back"),e[6]||(e[6]=(0,c.Lk)("h2",{class:"title"},"Add New Character",-1)),e[7]||(e[7]=(0,c.Lk)("div",{class:"navbar-spacer"},null,-1))]),(0,c.Lk)("div",u,[(0,c.Lk)("div",p,[e[8]||(e[8]=(0,c.Lk)("label",{for:"name"},"Name:",-1)),(0,c.bo)((0,c.Lk)("input",{id:"name","onUpdate:modelValue":e[1]||(e[1]=a=>o.character.name=a),placeholder:"Enter character name"},null,512),[[r.Jo,o.character.name]])]),(0,c.Lk)("div",m,[e[9]||(e[9]=(0,c.Lk)("label",{for:"path"},"Path:",-1)),(0,c.bo)((0,c.Lk)("input",{id:"path","onUpdate:modelValue":e[2]||(e[2]=a=>o.character.path=a),placeholder:"Enter image URL"},null,512),[[r.Jo,o.character.path]])]),(0,c.Lk)("div",b,[e[10]||(e[10]=(0,c.Lk)("label",{for:"htmlCode"},"HTML Code:",-1)),(0,c.bo)((0,c.Lk)("textarea",{id:"htmlCode","onUpdate:modelValue":e[3]||(e[3]=a=>o.character.htmlCode=a),placeholder:"Enter HTML code"},null,512),[[r.Jo,o.character.htmlCode]])]),(0,c.Lk)("div",C,[e[11]||(e[11]=(0,c.Lk)("label",{for:"tags"},"Tags:",-1)),(0,c.bo)((0,c.Lk)("input",{id:"tags","onUpdate:modelValue":e[4]||(e[4]=a=>o.tagsInput=a),placeholder:"Enter tags, separated by commas"},null,512),[[r.Jo,o.tagsInput]])]),(0,c.Lk)("div",f,[(0,c.Lk)("button",{class:"btn btn-save",onClick:e[5]||(e[5]=(...a)=>i.addCharacter&&i.addCharacter(...a))},"Add")]),(0,c.bF)(n,{visible:o.added,message:"Added!"},null,8,["visible"])])])}t(4114);var g=t(4161),k=t(6400),y=t(6971);const L={apiKey:"AIzaSyB724ERPtmM_gm3K2H63fbfKEjrU3jwVsQ",authDomain:"character-finder-70853.firebaseapp.com",projectId:"character-finder-70853",storageBucket:"character-finder-70853.appspot.com",messagingSenderId:"122301174396",appId:"1:122301174396:web:14ba70377dbcb829656ff9",measurementId:"G-C0Y1ED8FZP"},E=(0,k.Wp)(L),T=((0,y.xI)(E),(0,g.C3)(E));var w=t(4232);const I={key:0,class:"overlay-background"},x={class:"overlay"},A={class:"overlay-message"};function D(a,e,t,r,s,o){return t.visible?((0,c.uX)(),(0,c.CE)("div",I,[(0,c.Lk)("div",x,[(0,c.Lk)("p",A,(0,w.v_)(t.message),1)])])):(0,c.Q3)("",!0)}var Q={props:{visible:{type:Boolean,required:!0},message:{type:String,required:!0}}};const S=(0,i.A)(Q,[["render",D],["__scopeId","data-v-ba1c96ea"]]);var q=S,X={components:{AppOverlay:q},data(){return{character:{name:"",path:"",htmlCode:"",tags:[]},tagsInput:"",added:!1}},methods:{async addCharacter(){if(this.character.name&&this.character.path){this.character.tags=this.tagsInput.split(",").map((a=>a.trim()));try{const a=(0,g.VC)((0,g.KR)(T,"characters"));await(0,g.hZ)(a,this.character),this.added=!0,this.character.name="",this.character.path="",this.character.htmlCode="",this.tagsInput="",setTimeout((()=>{this.added=!1,this.$router.push({name:"CharacterList"})}),2e3)}catch(a){console.error("Error adding character:",a),alert("Failed to add character.")}}else alert("Name and Path are required.")},goBack(){this.$router.push({name:"CharacterList"})}}};const _=(0,i.A)(X,[["render",v],["__scopeId","data-v-ae2f4fb6"]]);var $=_;const B={class:"navbar"},O=["disabled"],U={class:"details-container card"},j={class:"character-image-details"},M=["src","data-clipboard-text"],F={key:0,class:"copy-overlay-details"},J={class:"character-info"},N={class:"form-group"},V=["disabled"],K={class:"form-group"},H=["disabled"],P={class:"form-group"},R={class:"html-code-container"},Z=["disabled"],z=["data-clipboard-text"],W={key:0,class:"copy-overlay-details"},Y={class:"form-group"},G=["disabled"],aa={key:0,class:"action-buttons"},ea={class:"left-actions"},ta={class:"right-actions"},ra={key:0,class:"delete-confirmation-overlay"},ca={class:"delete-confirmation-box"};function sa(a,e,t,s,o,i){return(0,c.uX)(),(0,c.CE)("div",null,[(0,c.Lk)("div",B,[(0,c.Lk)("button",{class:"btn btn-close",onClick:e[0]||(e[0]=(...a)=>i.goBack&&i.goBack(...a))},"Back"),e[11]||(e[11]=(0,c.Lk)("h2",{class:"title"},"Character Details",-1)),(0,c.Lk)("button",{class:"btn btn-edit",disabled:o.isEditable,onClick:e[1]||(e[1]=(...a)=>i.toggleEdit&&i.toggleEdit(...a))},"Edit",8,O)]),(0,c.Lk)("div",U,[(0,c.Lk)("div",j,[(0,c.Lk)("img",{src:o.character.path,alt:"Character Image",class:"copy-target","data-clipboard-text":o.character.htmlCode,"data-index":"0"},null,8,M),o.copied?((0,c.uX)(),(0,c.CE)("div",F,"Copied!")):(0,c.Q3)("",!0)]),(0,c.Lk)("div",J,[(0,c.Lk)("div",N,[e[12]||(e[12]=(0,c.Lk)("label",{for:"name"},"Name:",-1)),(0,c.bo)((0,c.Lk)("input",{id:"name","onUpdate:modelValue":e[2]||(e[2]=a=>o.character.name=a),disabled:!o.isEditable},null,8,V),[[r.Jo,o.character.name]])]),(0,c.Lk)("div",K,[e[13]||(e[13]=(0,c.Lk)("label",{for:"path"},"Path:",-1)),(0,c.bo)((0,c.Lk)("input",{id:"path","onUpdate:modelValue":e[3]||(e[3]=a=>o.character.path=a),disabled:!o.isEditable},null,8,H),[[r.Jo,o.character.path]])]),(0,c.Lk)("div",P,[e[14]||(e[14]=(0,c.Lk)("label",{for:"htmlCode"},"HTML Code:",-1)),(0,c.Lk)("div",R,[(0,c.bo)((0,c.Lk)("textarea",{id:"htmlCode","onUpdate:modelValue":e[4]||(e[4]=a=>o.character.htmlCode=a),disabled:!o.isEditable},null,8,Z),[[r.Jo,o.character.htmlCode]]),(0,c.Lk)("button",{class:"btn btn-copy-html","data-clipboard-text":o.character.htmlCode},"Copy HTML Code",8,z)]),o.copied?((0,c.uX)(),(0,c.CE)("div",W,"Copied!")):(0,c.Q3)("",!0)]),(0,c.Lk)("div",Y,[e[15]||(e[15]=(0,c.Lk)("label",{for:"tags"},"Tags:",-1)),(0,c.bo)((0,c.Lk)("input",{id:"tags","onUpdate:modelValue":e[5]||(e[5]=a=>o.tagsInput=a),disabled:!o.isEditable,placeholder:"Enter tags, separated by commas"},null,8,G),[[r.Jo,o.tagsInput]])]),o.isEditable?((0,c.uX)(),(0,c.CE)("div",aa,[(0,c.Lk)("div",ea,[(0,c.Lk)("button",{class:"btn btn-delete",onClick:e[6]||(e[6]=(...a)=>i.confirmDelete&&i.confirmDelete(...a))},"Delete")]),(0,c.Lk)("div",ta,[(0,c.Lk)("button",{class:"btn btn-cancel",onClick:e[7]||(e[7]=(...a)=>i.cancelEdit&&i.cancelEdit(...a))},"Cancel"),(0,c.Lk)("button",{class:"btn btn-save",onClick:e[8]||(e[8]=(...a)=>i.saveDetails&&i.saveDetails(...a))},"Save")])])):(0,c.Q3)("",!0)]),o.showDeleteConfirmation?((0,c.uX)(),(0,c.CE)("div",ra,[(0,c.Lk)("div",ca,[e[16]||(e[16]=(0,c.Lk)("p",null,"Are you sure you want to delete this character?",-1)),(0,c.Lk)("button",{class:"btn btn-yes",onClick:e[9]||(e[9]=(...a)=>i.deleteCharacter&&i.deleteCharacter(...a))},"Yes"),(0,c.Lk)("button",{class:"btn btn-no",onClick:e[10]||(e[10]=(...a)=>i.closeDeleteConfirmation&&i.closeDeleteConfirmation(...a))},"No")])])):(0,c.Q3)("",!0)])])}var oa=t(3723),ia=t.n(oa),na={data(){return{character:{name:"",path:"",htmlCode:"",tags:[]},isEditable:!1,tagsInput:"",copied:!1,showDeleteConfirmation:!1,clipboard:null}},methods:{async fetchCharacterDetails(){const a=this.$route.params.id,e=(0,g.KR)(T,`characters/${a}`);try{const a=await(0,g.Jt)(e);a.exists()?(this.character=a.val(),this.tagsInput=this.character.tags.join(", ")):console.error("Character not found")}catch(t){console.error("Error fetching character details:",t)}},toggleEdit(){this.isEditable=!this.isEditable},cancelEdit(){this.isEditable=!1,this.fetchCharacterDetails()},async saveDetails(){const a=this.$route.params.id;this.character.tags=this.tagsInput.split(",").map((a=>a.trim()));const e=(0,g.KR)(T,`characters/${a}`);try{await(0,g.yo)(e,this.character),this.isEditable=!1}catch(t){console.error("Error saving character details:",t)}},handleCopySuccess(a){this.copied=!0,setTimeout((()=>{this.copied=!1}),2e3),a.clearSelection()},handleCopyError(a){console.error("Clipboard copy failed:",a),alert("Failed to copy HTML Code.")},goBack(){this.$router.push({name:"CharacterList"})},confirmDelete(){this.showDeleteConfirmation=!0},closeDeleteConfirmation(){this.showDeleteConfirmation=!1},async deleteCharacter(){const a=this.$route.params.id,e=(0,g.KR)(T,`characters/${a}`);try{await(0,g.TF)(e),this.$router.push({name:"CharacterList"})}catch(t){console.error("Error deleting character:",t)}}},mounted(){this.fetchCharacterDetails(),this.clipboard=new(ia())(".btn-copy-html"),this.clipboard.on("success",this.handleCopySuccess),this.clipboard.on("error",this.handleCopyError)},beforeUnmount(){this.clipboard&&this.clipboard.destroy()}};const la=(0,i.A)(na,[["render",sa],["__scopeId","data-v-480fb9c8"]]);var da=la;const ha={class:"character-list"},ua={class:"search-bar flex-center gap-10 p-20 bg-secondary"},pa={key:0,class:"card-flex-container"},ma=["data-clipboard-text","data-index"],ba={class:"image-wrapper"},Ca=["src"],fa={key:0,class:"copy-overlay"},va={class:"card-content"},ga=["onClick"],ka={key:1,class:"no-characters"},ya={key:2,class:"all-characters"};function La(a,e,t,s,o,i){const n=(0,c.g2)("AppNavbar");return(0,c.uX)(),(0,c.CE)("div",ha,[(0,c.bF)(n),(0,c.Lk)("div",ua,[(0,c.bo)((0,c.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.searchQuery=a),type:"text",placeholder:"Search characters...",class:"search-input w-500 font-medium",onInput:e[1]||(e[1]=(...a)=>i.debouncedSearchCharacters&&i.debouncedSearchCharacters(...a))},null,544),[[r.Jo,o.searchQuery]]),(0,c.Lk)("button",{class:"btn btn-search",onClick:e[2]||(e[2]=(...a)=>i.searchCharacters&&i.searchCharacters(...a))},"Search")]),o.filteredCharacters.length?((0,c.uX)(),(0,c.CE)("div",pa,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(o.filteredCharacters,((a,t)=>((0,c.uX)(),(0,c.CE)("div",{key:a.id,class:"card copy-target","data-clipboard-text":a.htmlCode,"data-index":t,tabindex:"0","aria-label":"Copy HTML code for {{ character.name }}"},[(0,c.Lk)("div",ba,[(0,c.Lk)("img",{src:a.path,alt:"Character Image",onError:e[3]||(e[3]=a=>i.handleImageError(a)),loading:"lazy"},null,40,Ca),o.copiedCardId===a.id?((0,c.uX)(),(0,c.CE)("div",fa,"Copied!")):(0,c.Q3)("",!0)]),(0,c.Lk)("div",va,[(0,c.Lk)("h3",null,(0,w.v_)(a.name),1),(0,c.Lk)("button",{onClick:(0,r.D$)((e=>i.openCharacterDetails(a)),["stop"]),class:"btn btn-info","aria-label":"More information about {{ character.name }}"},e[4]||(e[4]=[(0,c.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 -960 960 960",width:"18px",fill:"#fff"},[(0,c.Lk)("path",{d:"M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})],-1)]),8,ga)])],8,ma)))),128))])):o.searchQuery.trim()?((0,c.uX)(),(0,c.CE)("div",ka,e[5]||(e[5]=[(0,c.Lk)("p",null,"No characters found. Try adjusting your search.",-1)]))):((0,c.uX)(),(0,c.CE)("div",ya,e[6]||(e[6]=[(0,c.Lk)("p",null,"To find an image, please search for a tag.",-1)])))])}const Ea={class:"navbar"};function Ta(a,e,t,r,s,o){return(0,c.uX)(),(0,c.CE)("div",Ea,[e[1]||(e[1]=(0,c.Lk)("h2",{class:"title"},"Character Finder v0.3.6",-1)),o.showAddButton?((0,c.uX)(),(0,c.CE)("button",{key:0,class:"btn btn-add",onClick:e[0]||(e[0]=(...a)=>o.navigateToAddCharacter&&o.navigateToAddCharacter(...a))},"Add Character")):(0,c.Q3)("",!0)])}var wa={name:"AppNavbar",computed:{showAddButton(){return"AddCharacter"!==this.$route.name}},methods:{navigateToAddCharacter(){this.$router.push({name:"AddCharacter"})}}};const Ia=(0,i.A)(wa,[["render",Ta],["__scopeId","data-v-5e83410a"]]);var xa=Ia,Aa={components:{AppNavbar:xa},data(){return{searchQuery:"",characters:[],filteredCharacters:[],copiedCardId:null,clipboard:null,debounceTimer:null}},methods:{openCharacterDetails(a){this.$router.push({name:"CharacterDetails",params:{id:a.id}})},debouncedSearchCharacters(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(this.searchCharacters,300)},searchCharacters(){const a=this.searchQuery.trim();if(""===a)return this.filteredCharacters=[],void sessionStorage.removeItem("searchQuery");sessionStorage.setItem("searchQuery",this.searchQuery);const e=a.toLowerCase().split(",").map((a=>a.trim())).filter((a=>""!==a));this.filteredCharacters=this.characters.filter((a=>{const t=e.some((e=>a.name.toLowerCase().includes(e))),r=a.tags&&a.tags.some((a=>e.some((e=>a.toLowerCase().includes(e)))));return t||r})),this.$nextTick((()=>{this.initializeClipboard()}))},async fetchCharacters(){const a=(0,g.KR)(T,"characters/");try{const e=await(0,g.Jt)(a);e.exists()?(this.characters=Object.entries(e.val()).map((([a,e])=>({id:a,...e}))),this.applySearchQuery()):console.log("No characters found in the database.")}catch(e){console.error("Error fetching characters:",e)}},applySearchQuery(){const a=sessionStorage.getItem("searchQuery");a?(this.searchQuery=a,this.searchCharacters()):this.filteredCharacters=[]},handleCopySuccess(a){const e=parseInt(a.trigger.getAttribute("data-index")),t=this.filteredCharacters[e];t&&(this.copiedCardId=t.id,setTimeout((()=>{this.copiedCardId=null}),2e3)),a.clearSelection()},handleCopyError(a){console.error("Clipboard copy failed:",a),alert("Failed to copy HTML Code.")},initializeClipboard(){this.clipboard&&this.clipboard.destroy(),this.filteredCharacters.length>0&&(this.clipboard=new(ia())(".copy-target"),this.clipboard.on("success",this.handleCopySuccess),this.clipboard.on("error",this.handleCopyError))},handleImageError(a){a.target.src="https://via.placeholder.com/300x300?text=Image+Not+Found"}},mounted(){this.fetchCharacters()},beforeUnmount(){this.clipboard&&this.clipboard.destroy()}};const Da=(0,i.A)(Aa,[["render",La],["__scopeId","data-v-ccdeaaa2"]]);var Qa=Da;const Sa=[{path:"/",name:"CharacterList",component:Qa},{path:"/character/:id",name:"CharacterDetails",component:da,props:!0},{path:"/add-character",name:"AddCharacter",component:$},{path:"/:pathMatch(.*)*",redirect:"/"}],qa=(0,d.aE)({history:(0,d.LA)(),routes:Sa});var Xa=qa;const _a=(0,r.Ef)(l);_a.use(Xa),_a.mount("#app")}},e={};function t(r){var c=e[r];if(void 0!==c)return c.exports;var s=e[r]={exports:{}};return a[r].call(s.exports,s,s.exports,t),s.exports}t.m=a,function(){var a=[];t.O=function(e,r,c,s){if(!r){var o=1/0;for(d=0;d<a.length;d++){r=a[d][0],c=a[d][1],s=a[d][2];for(var i=!0,n=0;n<r.length;n++)(!1&s||o>=s)&&Object.keys(t.O).every((function(a){return t.O[a](r[n])}))?r.splice(n--,1):(i=!1,s<o&&(o=s));if(i){a.splice(d--,1);var l=c();void 0!==l&&(e=l)}}return e}s=s||0;for(var d=a.length;d>0&&a[d-1][2]>s;d--)a[d]=a[d-1];a[d]=[r,c,s]}}(),function(){t.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return t.d(e,{a:e}),e}}(),function(){t.d=function(a,e){for(var r in e)t.o(e,r)&&!t.o(a,r)&&Object.defineProperty(a,r,{enumerable:!0,get:e[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){var a={524:0};t.O.j=function(e){return 0===a[e]};var e=function(e,r){var c,s,o=r[0],i=r[1],n=r[2],l=0;if(o.some((function(e){return 0!==a[e]}))){for(c in i)t.o(i,c)&&(t.m[c]=i[c]);if(n)var d=n(t)}for(e&&e(r);l<o.length;l++)s=o[l],t.o(a,s)&&a[s]&&a[s][0](),a[s]=0;return t.O(d)},r=self["webpackChunkcharacter_finder"]=self["webpackChunkcharacter_finder"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=t.O(void 0,[504],(function(){return t(2880)}));r=t.O(r)})();
//# sourceMappingURL=app.b5675654.js.map